<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>edage - æ™ºèƒ½ç½‘é¡µåŠ©æ‰‹ | é«˜ä¿çœŸåŸå‹</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --bg-main: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-hover: #f1f5f9;
            --text-primary: #0f172a;
            --text-secondary: #64748b;
            --border: #e2e8f0;
            --shadow: rgba(0, 0, 0, 0.1);
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #e5e7eb;
            color: var(--text-primary);
            height: 100vh;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .prototype-container {
            display: flex;
            gap: 20px;
            max-width: 1400px;
            width: 100%;
            height: 100%;
            max-height: 900px;
        }

        /* æ¨¡æ‹Ÿç½‘é¡µå†…å®¹ */
        .mock-webpage {
            flex: 1;
            background: white;
            border-radius: 12px;
            padding: 40px;
            overflow-y: auto;
            box-shadow: 0 4px 6px var(--shadow);
        }

        .mock-webpage h1 {
            font-size: 32px;
            margin-bottom: 20px;
            color: var(--text-primary);
        }

        .mock-webpage p {
            line-height: 1.8;
            color: var(--text-secondary);
            margin-bottom: 16px;
        }

        .mock-webpage .highlight {
            background: #fef3c7;
            padding: 2px 4px;
            border-radius: 3px;
        }

        /* ä¾§è¾¹æ ä¸»å®¹å™¨ */
        .edage-panel {
            width: 420px;
            background: var(--bg-main);
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* é¡¶éƒ¨æ ‡é¢˜æ  */
        .panel-header {
            padding: 20px;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
        }

        .panel-logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 20px;
            font-weight: 700;
        }

        .panel-logo-icon {
            width: 32px;
            height: 32px;
            background: white;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .panel-actions {
            display: flex;
            gap: 8px;
        }

        .icon-btn {
            width: 32px;
            height: 32px;
            border: none;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .icon-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }

        /* æ ‡ç­¾é¡µ */
        .panel-tabs {
            display: flex;
            padding: 12px 20px;
            gap: 8px;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border);
        }

        .tab {
            flex: 1;
            padding: 8px 16px;
            border: none;
            background: transparent;
            color: var(--text-secondary);
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
        }

        .tab:hover {
            background: var(--bg-hover);
        }

        .tab.active {
            background: white;
            color: var(--primary);
            box-shadow: 0 2px 4px var(--shadow);
        }

        /* ä¸Šä¸‹æ–‡é¢„è§ˆåŒº */
        .context-preview {
            padding: 16px 20px;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border);
        }

        .context-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .context-title {
            font-size: 12px;
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .context-toggle {
            font-size: 12px;
            color: var(--primary);
            cursor: pointer;
            background: none;
            border: none;
            font-weight: 500;
        }

        .context-content {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.5;
            max-height: 60px;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
        }

        .context-meta {
            display: flex;
            gap: 12px;
            margin-top: 8px;
            font-size: 11px;
            color: var(--text-secondary);
        }

        .context-meta span {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        /* å¿«æ·æ“ä½œ */
        .quick-actions {
            padding: 16px 20px;
            border-bottom: 1px solid var(--border);
        }

        .quick-actions-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .quick-actions-title {
            font-size: 12px;
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .edit-actions-btn {
            font-size: 12px;
            color: var(--primary);
            background: none;
            border: none;
            cursor: pointer;
            font-weight: 500;
        }

        .action-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
        }

        .action-btn {
            padding: 10px 12px;
            border: 1px solid var(--border);
            background: white;
            border-radius: 8px;
            cursor: pointer;
            font-size: 13px;
            text-align: left;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .action-btn:hover {
            border-color: var(--primary);
            background: var(--bg-secondary);
            transform: translateY(-1px);
            box-shadow: 0 2px 4px var(--shadow);
        }

        /* èŠå¤©åŒºåŸŸ */
        .chat-container {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .message {
            display: flex;
            gap: 12px;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            font-size: 16px;
        }

        .user-avatar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .ai-avatar {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
        }

        .message-content {
            flex: 1;
        }

        .message-text {
            background: var(--bg-secondary);
            padding: 12px 16px;
            border-radius: 12px;
            font-size: 14px;
            line-height: 1.6;
        }

        .message.user .message-text {
            background: var(--primary);
            color: white;
        }

        .message-time {
            font-size: 11px;
            color: var(--text-secondary);
            margin-top: 4px;
            padding-left: 4px;
        }

        /* ç©ºçŠ¶æ€ */
        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            text-align: center;
            color: var(--text-secondary);
            padding: 40px;
        }

        .empty-icon {
            font-size: 48px;
            margin-bottom: 16px;
            opacity: 0.5;
        }

        .empty-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--text-primary);
        }

        .empty-desc {
            font-size: 14px;
            line-height: 1.6;
        }

        /* è¾“å…¥åŒºåŸŸ */
        .input-container {
            padding: 16px 20px;
            border-top: 1px solid var(--border);
            background: white;
        }

        .input-wrapper {
            display: flex;
            gap: 8px;
            align-items: flex-end;
        }

        .input-field {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid var(--border);
            border-radius: 10px;
            font-size: 14px;
            font-family: inherit;
            resize: none;
            max-height: 120px;
            transition: all 0.2s;
        }

        .input-field:focus {
            outline: none;
            border-color: var(--primary);
        }

        .send-btn {
            width: 40px;
            height: 40px;
            border: none;
            background: var(--primary);
            color: white;
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            font-size: 18px;
        }

        .send-btn:hover {
            background: var(--primary-dark);
            transform: scale(1.05);
        }

        .send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* è®¾ç½®é¢æ¿ */
        .settings-panel {
            padding: 20px;
            overflow-y: auto;
        }

        .setting-group {
            margin-bottom: 24px;
        }

        .setting-group-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
            color: var(--text-primary);
        }

        .setting-item {
            margin-bottom: 16px;
        }

        .setting-label {
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 6px;
            display: block;
        }

        .setting-input {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid var(--border);
            border-radius: 6px;
            font-size: 14px;
            font-family: inherit;
        }

        .setting-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .setting-select {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid var(--border);
            border-radius: 6px;
            font-size: 14px;
            background: white;
            cursor: pointer;
        }

        /* å¿«æ·æ“ä½œé…ç½® */
        .quick-action-config {
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 12px;
            background: var(--bg-secondary);
        }

        .config-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .config-name {
            font-weight: 600;
            font-size: 14px;
        }

        .config-actions {
            display: flex;
            gap: 8px;
        }

        .small-btn {
            padding: 4px 8px;
            border: 1px solid var(--border);
            background: white;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.2s;
        }

        .small-btn:hover {
            background: var(--bg-hover);
        }

        .small-btn.delete {
            color: var(--danger);
            border-color: var(--danger);
        }

        .small-btn.delete:hover {
            background: var(--danger);
            color: white;
        }

        .config-field {
            margin-bottom: 8px;
        }

        .config-field label {
            display: block;
            font-size: 12px;
            color: var(--text-secondary);
            margin-bottom: 4px;
        }

        .config-field input,
        .config-field textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid var(--border);
            border-radius: 4px;
            font-size: 13px;
            font-family: inherit;
        }

        .config-field textarea {
            min-height: 60px;
            resize: vertical;
        }

        .add-action-btn {
            width: 100%;
            padding: 10px;
            border: 2px dashed var(--border);
            background: white;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            color: var(--primary);
            font-weight: 500;
            transition: all 0.2s;
        }

        .add-action-btn:hover {
            border-color: var(--primary);
            background: var(--bg-secondary);
        }

        /* æ»šåŠ¨æ¡æ ·å¼ */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-secondary);
        }

        /* å“åº”å¼ */
        @media (max-width: 1024px) {
            .mock-webpage {
                display: none;
            }
            
            .edage-panel {
                width: 100%;
                max-width: 500px;
            }
        }

        /* åŠ è½½åŠ¨ç”» */
        .typing-indicator {
            display: flex;
            gap: 4px;
            padding: 12px 16px;
            background: var(--bg-secondary);
            border-radius: 12px;
            width: fit-content;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--text-secondary);
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% {
                opacity: 0.3;
                transform: scale(0.8);
            }
            30% {
                opacity: 1;
                transform: scale(1);
            }
        }

        .badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            background: var(--primary);
            color: white;
        }

        .help-text {
            font-size: 12px;
            color: var(--text-secondary);
            margin-top: 4px;
            line-height: 1.4;
        }

        code {
            background: var(--bg-secondary);
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            color: var(--primary);
        }
    </style>
</head>
<body>
    <div class="prototype-container">
        <!-- æ¨¡æ‹Ÿç½‘é¡µå†…å®¹ -->
        <div class="mock-webpage">
            <h1>äººå·¥æ™ºèƒ½çš„æœªæ¥å‘å±•è¶‹åŠ¿</h1>
            <p>
                äººå·¥æ™ºèƒ½ï¼ˆAIï¼‰æŠ€æœ¯æ­£åœ¨ä»¥å‰æ‰€æœªæœ‰çš„é€Ÿåº¦å‘å±•ã€‚ä»<span class="highlight">è‡ªç„¶è¯­è¨€å¤„ç†</span>åˆ°<span class="highlight">è®¡ç®—æœºè§†è§‰</span>ï¼Œ
                AI æ­£åœ¨æ”¹å˜æˆ‘ä»¬çš„ç”Ÿæ´»æ–¹å¼å’Œå·¥ä½œæ–¹å¼ã€‚ä¸“å®¶é¢„æµ‹ï¼Œæœªæ¥åå¹´å°†æ˜¯ AI æŠ€æœ¯çªç ´çš„å…³é”®æ—¶æœŸã€‚
            </p>
            <p>
                æ·±åº¦å­¦ä¹ æŠ€æœ¯çš„è¿›æ­¥ä½¿å¾—æœºå™¨èƒ½å¤Ÿç†è§£å’Œç”Ÿæˆäººç±»è¯­è¨€ï¼Œè¿™ä¸ºäººæœºäº¤äº’å¼€è¾Ÿäº†æ–°çš„å¯èƒ½æ€§ã€‚
                å¤§å‹è¯­è¨€æ¨¡å‹å¦‚ GPTã€Claude ç­‰çš„å‡ºç°ï¼Œå±•ç¤ºäº† AI åœ¨ç†è§£ä¸Šä¸‹æ–‡å’Œç”Ÿæˆè¿è´¯æ–‡æœ¬æ–¹é¢çš„å¼ºå¤§èƒ½åŠ›ã€‚
            </p>
            <p>
                ç„¶è€Œï¼ŒAI çš„å‘å±•ä¹Ÿå¸¦æ¥äº†ä¸€äº›æŒ‘æˆ˜ï¼ŒåŒ…æ‹¬æ•°æ®éšç§ã€ç®—æ³•åè§ã€ä»¥åŠæŠ€æœ¯ä¼¦ç†ç­‰é—®é¢˜ã€‚
                å¦‚ä½•åœ¨æ¨åŠ¨æŠ€æœ¯åˆ›æ–°çš„åŒæ—¶ï¼Œç¡®ä¿ AI çš„å®‰å…¨æ€§å’Œå¯æ§æ€§ï¼Œæ˜¯å½“å‰ç ”ç©¶çš„é‡è¦æ–¹å‘ã€‚
            </p>
            <p>
                åœ¨åº”ç”¨å±‚é¢ï¼ŒAI å·²ç»å¹¿æ³›åº”ç”¨äºåŒ»ç–—è¯Šæ–­ã€é‡‘èåˆ†æã€è‡ªåŠ¨é©¾é©¶ã€æ•™è‚²è¾…åŠ©ç­‰å¤šä¸ªé¢†åŸŸã€‚
                è¿™äº›åº”ç”¨ä¸ä»…æé«˜äº†æ•ˆç‡ï¼Œä¹Ÿä¸ºè§£å†³å¤æ‚é—®é¢˜æä¾›äº†æ–°çš„æ€è·¯ã€‚
            </p>
        </div>

        <!-- edage æ’ä»¶ä¾§è¾¹æ  -->
        <div class="edage-panel">
            <!-- å¤´éƒ¨ -->
            <div class="panel-header">
                <div class="panel-logo">
                    <div class="panel-logo-icon">ğŸš€</div>
                    <span>edage</span>
                </div>
                <div class="panel-actions">
                    <button class="icon-btn" title="æ¸…ç©ºå¯¹è¯" onclick="clearChat()">ğŸ—‘ï¸</button>
                    <button class="icon-btn" title="è®¾ç½®" onclick="switchTab('settings')">âš™ï¸</button>
                </div>
            </div>

            <!-- æ ‡ç­¾é¡µ -->
            <div class="panel-tabs">
                <button class="tab active" onclick="switchTab('chat')" id="tab-chat">ğŸ’¬ å¯¹è¯</button>
                <button class="tab" onclick="switchTab('settings')" id="tab-settings">âš™ï¸ è®¾ç½®</button>
            </div>

            <!-- å¯¹è¯è§†å›¾ -->
            <div id="view-chat" class="view-content">
                <!-- ä¸Šä¸‹æ–‡é¢„è§ˆ -->
                <div class="context-preview">
                    <div class="context-header">
                        <span class="context-title">ğŸ“„ å½“å‰é¡µé¢</span>
                        <button class="context-toggle">å±•å¼€</button>
                    </div>
                    <div class="context-content">
                        äººå·¥æ™ºèƒ½çš„æœªæ¥å‘å±•è¶‹åŠ¿ - äººå·¥æ™ºèƒ½ï¼ˆAIï¼‰æŠ€æœ¯æ­£åœ¨ä»¥å‰æ‰€æœªæœ‰çš„é€Ÿåº¦å‘å±•ã€‚ä»è‡ªç„¶è¯­è¨€å¤„ç†åˆ°è®¡ç®—æœºè§†è§‰...
                    </div>
                    <div class="context-meta">
                        <span>ğŸ“Š çº¦ 520 å­—</span>
                        <span>â±ï¸ é˜…è¯»æ—¶é—´ 2 åˆ†é’Ÿ</span>
                    </div>
                </div>

                <!-- å¿«æ·æ“ä½œ -->
                <div class="quick-actions">
                    <div class="quick-actions-header">
                        <span class="quick-actions-title">âš¡ å¿«æ·æ“ä½œ</span>
                        <button class="edit-actions-btn" onclick="switchTab('settings'); scrollToQuickActions()">ç¼–è¾‘</button>
                    </div>
                    <div class="action-grid" id="actionGrid">
                        <!-- å¿«æ·æ“ä½œæŒ‰é’®å°†ç”± JavaScript åŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>

                <!-- èŠå¤©æ¶ˆæ¯ -->
                <div class="chat-container" id="chatContainer">
                    <div class="empty-state">
                        <div class="empty-icon">ğŸ’¬</div>
                        <div class="empty-title">å¼€å§‹å¯¹è¯</div>
                        <div class="empty-desc">
                            ä½¿ç”¨å¿«æ·æ“ä½œæˆ–è¾“å…¥æ‚¨çš„é—®é¢˜<br>
                            æˆ‘ä¼šåŸºäºå½“å‰é¡µé¢å†…å®¹ä¸ºæ‚¨è§£ç­”
                        </div>
                    </div>
                </div>

                <!-- è¾“å…¥åŒºåŸŸ -->
                <div class="input-container">
                    <div class="input-wrapper">
                        <textarea 
                            class="input-field" 
                            placeholder="è¾“å…¥æ‚¨çš„é—®é¢˜..." 
                            rows="1"
                            id="userInput"
                            onkeydown="handleKeyPress(event)"
                        ></textarea>
                        <button class="send-btn" onclick="sendMessage()" id="sendBtn">
                            â–²
                        </button>
                    </div>
                </div>
            </div>

            <!-- è®¾ç½®è§†å›¾ -->
            <div id="view-settings" class="view-content" style="display: none;">
                <div class="settings-panel">
                    <!-- å¿«æ·æ“ä½œé…ç½® -->
                    <div class="setting-group" id="quickActionsSettings">
                        <div class="setting-group-title">âš¡ å¿«æ·æ“ä½œé…ç½®</div>
                        <p class="help-text" style="margin-bottom: 16px;">
                            è‡ªå®šä¹‰å¿«æ·æ“ä½œï¼Œé…ç½®æç¤ºè¯æ¨¡æ¿ã€‚ç‚¹å‡»å¿«æ·æŒ‰é’®æ—¶ï¼Œä¼šå°†æç¤ºè¯å’Œé¡µé¢å†…å®¹å‘é€ç»™ AIã€‚
                            ä½¿ç”¨ <code>{context}</code> ä½œä¸ºé¡µé¢å†…å®¹çš„å ä½ç¬¦ã€‚
                        </p>
                        <div id="quickActionsConfig">
                            <!-- é…ç½®é¡¹å°†ç”± JavaScript åŠ¨æ€ç”Ÿæˆ -->
                        </div>
                        <button class="add-action-btn" onclick="addQuickAction()">
                            â• æ·»åŠ æ–°çš„å¿«æ·æ“ä½œ
                        </button>
                    </div>

                    <div class="setting-group">
                        <div class="setting-group-title">ğŸ¤– AI é…ç½®</div>
                        <div class="setting-item">
                            <label class="setting-label">AI æä¾›å•†</label>
                            <select class="setting-select" id="aiProvider">
                                <option>OpenAI</option>
                                <option>Anthropic (Claude)</option>
                                <option>Google (Gemini)</option>
                                <option>è‡ªå®šä¹‰</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label class="setting-label">API Key</label>
                            <input type="password" class="setting-input" placeholder="sk-..." id="apiKey">
                        </div>
                        <div class="setting-item">
                            <label class="setting-label">æ¨¡å‹é€‰æ‹©</label>
                            <select class="setting-select" id="model">
                                <option>gpt-4-turbo</option>
                                <option>gpt-3.5-turbo</option>
                                <option>claude-3-opus</option>
                            </select>
                        </div>
                    </div>

                    <div class="setting-group">
                        <div class="setting-group-title">ğŸ¨ ç•Œé¢è®¾ç½®</div>
                        <div class="setting-item">
                            <label class="setting-label">ä¸»é¢˜</label>
                            <select class="setting-select" id="theme">
                                <option>æµ…è‰²</option>
                                <option>æ·±è‰²</option>
                                <option>è·Ÿéšç³»ç»Ÿ</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label class="setting-label">å­—ä½“å¤§å°</label>
                            <select class="setting-select" id="fontSize">
                                <option>å°</option>
                                <option selected>ä¸­</option>
                                <option>å¤§</option>
                            </select>
                        </div>
                    </div>

                    <div class="setting-group">
                        <div class="setting-group-title">âš™ï¸ è¡Œä¸ºè®¾ç½®</div>
                        <div class="setting-item">
                            <label class="setting-label">
                                <input type="checkbox" checked id="autoCapture"> è‡ªåŠ¨æ•è·é¡µé¢å†…å®¹
                            </label>
                        </div>
                        <div class="setting-item">
                            <label class="setting-label">
                                <input type="checkbox" checked id="showFloating"> æ˜¾ç¤ºæ‚¬æµ®æŒ‰é’®
                            </label>
                        </div>
                    </div>

                    <div class="setting-group">
                        <div class="setting-group-title">ğŸ”’ éšç§è®¾ç½®</div>
                        <div class="setting-item">
                            <label class="setting-label">æ’é™¤åŸŸåï¼ˆä¸æ•è·å†…å®¹ï¼‰</label>
                            <textarea class="setting-input" rows="3" placeholder="example.com&#10;bank.com" id="excludeDomains"></textarea>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // é»˜è®¤å¿«æ·æ“ä½œé…ç½®
        let quickActions = [
            {
                id: 'summarize',
                emoji: 'ğŸ“',
                name: 'æ€»ç»“æ–‡ç« ',
                prompt: 'è¯·ç”¨ 3-5 ä¸ªè¦ç‚¹æ€»ç»“ä»¥ä¸‹å†…å®¹çš„æ ¸å¿ƒè§‚ç‚¹ï¼š\n\n{context}'
            },
            {
                id: 'translate',
                emoji: 'ğŸŒ',
                name: 'ç¿»è¯‘æˆè‹±æ–‡',
                prompt: 'è¯·å°†ä»¥ä¸‹å†…å®¹ç¿»è¯‘æˆè‹±æ–‡ï¼š\n\n{context}'
            },
            {
                id: 'explain',
                emoji: 'ğŸ’¡',
                name: 'è§£é‡Šæ¦‚å¿µ',
                prompt: 'è¯·è§£é‡Šä»¥ä¸‹å†…å®¹ä¸­çš„ä¸“ä¸šæœ¯è¯­å’Œå…³é”®æ¦‚å¿µï¼š\n\n{context}'
            },
            {
                id: 'qa',
                emoji: 'â“',
                name: 'æå–è¦ç‚¹',
                prompt: 'è¯·ä»ä»¥ä¸‹å†…å®¹ä¸­æå–å…³é”®é—®é¢˜å’Œè¦ç‚¹ï¼š\n\n{context}'
            }
        ];

        // é¡µé¢å†…å®¹ï¼ˆæ¨¡æ‹Ÿï¼‰
        const pageContext = `äººå·¥æ™ºèƒ½çš„æœªæ¥å‘å±•è¶‹åŠ¿

äººå·¥æ™ºèƒ½ï¼ˆAIï¼‰æŠ€æœ¯æ­£åœ¨ä»¥å‰æ‰€æœªæœ‰çš„é€Ÿåº¦å‘å±•ã€‚ä»è‡ªç„¶è¯­è¨€å¤„ç†åˆ°è®¡ç®—æœºè§†è§‰ï¼ŒAI æ­£åœ¨æ”¹å˜æˆ‘ä»¬çš„ç”Ÿæ´»æ–¹å¼å’Œå·¥ä½œæ–¹å¼ã€‚ä¸“å®¶é¢„æµ‹ï¼Œæœªæ¥åå¹´å°†æ˜¯ AI æŠ€æœ¯çªç ´çš„å…³é”®æ—¶æœŸã€‚

æ·±åº¦å­¦ä¹ æŠ€æœ¯çš„è¿›æ­¥ä½¿å¾—æœºå™¨èƒ½å¤Ÿç†è§£å’Œç”Ÿæˆäººç±»è¯­è¨€ï¼Œè¿™ä¸ºäººæœºäº¤äº’å¼€è¾Ÿäº†æ–°çš„å¯èƒ½æ€§ã€‚å¤§å‹è¯­è¨€æ¨¡å‹å¦‚ GPTã€Claude ç­‰çš„å‡ºç°ï¼Œå±•ç¤ºäº† AI åœ¨ç†è§£ä¸Šä¸‹æ–‡å’Œç”Ÿæˆè¿è´¯æ–‡æœ¬æ–¹é¢çš„å¼ºå¤§èƒ½åŠ›ã€‚

ç„¶è€Œï¼ŒAI çš„å‘å±•ä¹Ÿå¸¦æ¥äº†ä¸€äº›æŒ‘æˆ˜ï¼ŒåŒ…æ‹¬æ•°æ®éšç§ã€ç®—æ³•åè§ã€ä»¥åŠæŠ€æœ¯ä¼¦ç†ç­‰é—®é¢˜ã€‚å¦‚ä½•åœ¨æ¨åŠ¨æŠ€æœ¯åˆ›æ–°çš„åŒæ—¶ï¼Œç¡®ä¿ AI çš„å®‰å…¨æ€§å’Œå¯æ§æ€§ï¼Œæ˜¯å½“å‰ç ”ç©¶çš„é‡è¦æ–¹å‘ã€‚`;

        // åˆå§‹åŒ–
        function init() {
            loadSettings();
            renderQuickActions();
            renderQuickActionsConfig();
        }

        // æ ‡ç­¾åˆ‡æ¢
        function switchTab(tabName) {
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.getElementById('tab-' + tabName).classList.add('active');

            document.querySelectorAll('.view-content').forEach(view => {
                view.style.display = 'none';
            });
            document.getElementById('view-' + tabName).style.display = tabName === 'chat' ? 'flex' : 'block';
        }

        // æ¸²æŸ“å¿«æ·æ“ä½œæŒ‰é’®
        function renderQuickActions() {
            const grid = document.getElementById('actionGrid');
            grid.innerHTML = '';
            
            quickActions.forEach(action => {
                const btn = document.createElement('button');
                btn.className = 'action-btn';
                btn.innerHTML = `${action.emoji} ${action.name}`;
                btn.onclick = () => executeQuickAction(action);
                grid.appendChild(btn);
            });
        }

        // æ¸²æŸ“å¿«æ·æ“ä½œé…ç½®
        function renderQuickActionsConfig() {
            const container = document.getElementById('quickActionsConfig');
            container.innerHTML = '';
            
            quickActions.forEach((action, index) => {
                const div = document.createElement('div');
                div.className = 'quick-action-config';
                div.innerHTML = `
                    <div class="config-header">
                        <span class="config-name">${action.emoji} ${action.name}</span>
                        <div class="config-actions">
                            <button class="small-btn delete" onclick="deleteQuickAction(${index})">åˆ é™¤</button>
                        </div>
                    </div>
                    <div class="config-field">
                        <label>å›¾æ ‡ï¼ˆEmojiï¼‰</label>
                        <input type="text" value="${action.emoji}" onchange="updateQuickAction(${index}, 'emoji', this.value)" maxlength="2">
                    </div>
                    <div class="config-field">
                        <label>åç§°</label>
                        <input type="text" value="${action.name}" onchange="updateQuickAction(${index}, 'name', this.value)">
                    </div>
                    <div class="config-field">
                        <label>æç¤ºè¯æ¨¡æ¿ï¼ˆä½¿ç”¨ {context} ä½œä¸ºé¡µé¢å†…å®¹å ä½ç¬¦ï¼‰</label>
                        <textarea onchange="updateQuickAction(${index}, 'prompt', this.value)">${action.prompt}</textarea>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        // æ‰§è¡Œå¿«æ·æ“ä½œ
        function executeQuickAction(action) {
            const prompt = action.prompt.replace('{context}', pageContext);
            document.getElementById('userInput').value = prompt;
            sendMessage();
        }

        // æ·»åŠ å¿«æ·æ“ä½œ
        function addQuickAction() {
            quickActions.push({
                id: 'custom_' + Date.now(),
                emoji: 'âœ¨',
                name: 'æ–°æ“ä½œ',
                prompt: 'è¯·å¯¹ä»¥ä¸‹å†…å®¹è¿›è¡Œåˆ†æï¼š\n\n{context}'
            });
            saveSettings();
            renderQuickActions();
            renderQuickActionsConfig();
        }

        // æ›´æ–°å¿«æ·æ“ä½œ
        function updateQuickAction(index, field, value) {
            quickActions[index][field] = value;
            saveSettings();
            renderQuickActions();
            renderQuickActionsConfig();
        }

        // åˆ é™¤å¿«æ·æ“ä½œ
        function deleteQuickAction(index) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªå¿«æ·æ“ä½œå—ï¼Ÿ')) {
                quickActions.splice(index, 1);
                saveSettings();
                renderQuickActions();
                renderQuickActionsConfig();
            }
        }

        // æ»šåŠ¨åˆ°å¿«æ·æ“ä½œè®¾ç½®
        function scrollToQuickActions() {
            setTimeout(() => {
                document.getElementById('quickActionsSettings').scrollIntoView({ behavior: 'smooth' });
            }, 100);
        }

        // å‘é€æ¶ˆæ¯
        function sendMessage() {
            const input = document.getElementById('userInput');
            const message = input.value.trim();
            
            if (!message) return;

            const chatContainer = document.getElementById('chatContainer');
            
            const emptyState = chatContainer.querySelector('.empty-state');
            if (emptyState) {
                emptyState.remove();
            }

            addMessage('user', message);
            input.value = '';
            input.style.height = 'auto';
            
            addTypingIndicator();

            setTimeout(() => {
                removeTypingIndicator();
                
                let response = '';
                if (message.includes('æ€»ç»“')) {
                    response = `æ ¹æ®é¡µé¢å†…å®¹ï¼Œæˆ‘ä¸ºæ‚¨æ€»ç»“ä»¥ä¸‹è¦ç‚¹ï¼š\n\n1. **æŠ€æœ¯å‘å±•**: AI æŠ€æœ¯æ­£åœ¨å¿«é€Ÿå‘å±•ï¼Œæ·±åº¦å­¦ä¹ å’Œå¤§å‹è¯­è¨€æ¨¡å‹æ˜¯å…³é”®çªç ´\n\n2. **åº”ç”¨é¢†åŸŸ**: AI å·²åº”ç”¨äºåŒ»ç–—ã€é‡‘èã€è‡ªåŠ¨é©¾é©¶ã€æ•™è‚²ç­‰å¤šä¸ªé¢†åŸŸ\n\n3. **é¢ä¸´æŒ‘æˆ˜**: æ•°æ®éšç§ã€ç®—æ³•åè§ã€æŠ€æœ¯ä¼¦ç†æ˜¯å½“å‰éœ€è¦å…³æ³¨çš„é—®é¢˜\n\n4. **æœªæ¥å±•æœ›**: æœªæ¥åå¹´å°†æ˜¯ AI æŠ€æœ¯çªç ´çš„å…³é”®æ—¶æœŸï¼Œéœ€è¦å¹³è¡¡åˆ›æ–°ä¸å®‰å…¨`;
                } else if (message.includes('ç¿»è¯‘')) {
                    response = `**The Future Development Trends of Artificial Intelligence**\n\nArtificial Intelligence (AI) technology is developing at an unprecedented pace. From natural language processing to computer vision, AI is changing the way we live and work. Experts predict that the next decade will be a critical period for breakthroughs in AI technology...`;
                } else if (message.includes('è§£é‡Š')) {
                    response = `è®©æˆ‘ä¸ºæ‚¨è§£é‡Šé¡µé¢ä¸­çš„å…³é”®æ¦‚å¿µï¼š\n\n**è‡ªç„¶è¯­è¨€å¤„ç† (NLP)**\nè‡ªç„¶è¯­è¨€å¤„ç†æ˜¯äººå·¥æ™ºèƒ½çš„ä¸€ä¸ªåˆ†æ”¯ï¼Œä¸“æ³¨äºè®©è®¡ç®—æœºç†è§£ã€è§£é‡Šå’Œç”Ÿæˆäººç±»è¯­è¨€ã€‚å®ƒä½¿æœºå™¨èƒ½å¤Ÿè¯»æ‡‚æ–‡æœ¬ã€ç†è§£è¯­ä¹‰ã€‚\n\n**è®¡ç®—æœºè§†è§‰ (CV)**\nè®¡ç®—æœºè§†è§‰æ˜¯è®©è®¡ç®—æœºèƒ½å¤Ÿ"çœ‹æ‡‚"å›¾åƒå’Œè§†é¢‘çš„æŠ€æœ¯ã€‚é€šè¿‡åˆ†æè§†è§‰æ•°æ®ï¼Œæœºå™¨å¯ä»¥è¯†åˆ«ç‰©ä½“ã€ç†è§£åœºæ™¯ã€‚\n\n**æ·±åº¦å­¦ä¹ **\næ·±åº¦å­¦ä¹ æ˜¯æœºå™¨å­¦ä¹ çš„ä¸€ä¸ªå­é¢†åŸŸï¼Œä½¿ç”¨å¤šå±‚ç¥ç»ç½‘ç»œæ¥å­¦ä¹ æ•°æ®çš„å¤æ‚æ¨¡å¼ã€‚`;
                } else if (message.includes('è¦ç‚¹')) {
                    response = `ä»é¡µé¢ä¸­æå–çš„å…³é”®è¦ç‚¹ï¼š\n\nâ€¢ AI æŠ€æœ¯å‘å±•é€Ÿåº¦ç©ºå‰\nâ€¢ è‡ªç„¶è¯­è¨€å¤„ç†å’Œè®¡ç®—æœºè§†è§‰æ˜¯æ ¸å¿ƒé¢†åŸŸ\nâ€¢ å¤§å‹è¯­è¨€æ¨¡å‹å±•ç°å¼ºå¤§èƒ½åŠ›\nâ€¢ é¢ä¸´æ•°æ®éšç§å’Œä¼¦ç†æŒ‘æˆ˜\nâ€¢ å¹¿æ³›åº”ç”¨äºå„ä¸ªè¡Œä¸šé¢†åŸŸ\nâ€¢ æœªæ¥åå¹´æ˜¯å…³é”®çªç ´æœŸ`;
                } else {
                    response = `æˆ‘å·²ç»æ”¶åˆ°æ‚¨çš„é—®é¢˜ã€‚è¿™æ˜¯ä¸€ç¯‡å…³äº AI å‘å±•çš„æ·±åº¦åˆ†ææ–‡ç« ï¼Œæ¶µç›–äº†æŠ€æœ¯è¿›æ­¥ã€åº”ç”¨åœºæ™¯å’Œé¢ä¸´çš„æŒ‘æˆ˜ã€‚æ‚¨æƒ³äº†è§£å“ªæ–¹é¢çš„è¯¦ç»†ä¿¡æ¯ï¼Ÿ`;
                }
                
                addMessage('ai', response);
            }, 1500);
        }

        // æ¸…ç©ºå¯¹è¯
        function clearChat() {
            if (confirm('ç¡®å®šè¦æ¸…ç©ºå½“å‰å¯¹è¯å—ï¼Ÿ')) {
                const chatContainer = document.getElementById('chatContainer');
                chatContainer.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">ğŸ’¬</div>
                        <div class="empty-title">å¼€å§‹å¯¹è¯</div>
                        <div class="empty-desc">
                            ä½¿ç”¨å¿«æ·æ“ä½œæˆ–è¾“å…¥æ‚¨çš„é—®é¢˜<br>
                            æˆ‘ä¼šåŸºäºå½“å‰é¡µé¢å†…å®¹ä¸ºæ‚¨è§£ç­”
                        </div>
                    </div>
                `;
            }
        }

        // æ·»åŠ æ¶ˆæ¯
        function addMessage(type, text) {
            const chatContainer = document.getElementById('chatContainer');
            const now = new Date().toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' });
            
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}`;
            messageDiv.innerHTML = `
                <div class="message-avatar ${type}-avatar">
                    ${type === 'user' ? 'ğŸ‘¤' : 'ğŸ¤–'}
                </div>
                <div class="message-content">
                    <div class="message-text">${text.replace(/\n/g, '<br>')}</div>
                    <div class="message-time">${now}</div>
                </div>
            `;
            
            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        // æ·»åŠ è¾“å…¥ä¸­æŒ‡ç¤ºå™¨
        function addTypingIndicator() {
            const chatContainer = document.getElementById('chatContainer');
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message ai';
            typingDiv.id = 'typing-indicator';
            typingDiv.innerHTML = `
                <div class="message-avatar ai-avatar">ğŸ¤–</div>
                <div class="message-content">
                    <div class="typing-indicator">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                </div>
            `;
            chatContainer.appendChild(typingDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        // ç§»é™¤è¾“å…¥ä¸­æŒ‡ç¤ºå™¨
        function removeTypingIndicator() {
            const indicator = document.getElementById('typing-indicator');
            if (indicator) {
                indicator.remove();
            }
        }

        // å¤„ç†é”®ç›˜äº‹ä»¶
        function handleKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage();
            }
        }

        // è‡ªåŠ¨è°ƒæ•´è¾“å…¥æ¡†é«˜åº¦
        document.addEventListener('DOMContentLoaded', function() {
            const input = document.getElementById('userInput');
            input.addEventListener('input', function() {
                this.style.height = 'auto';
                this.style.height = Math.min(this.scrollHeight, 120) + 'px';
            });
            
            init();
        });

        // ä¿å­˜è®¾ç½®åˆ° localStorage
        function saveSettings() {
            localStorage.setItem('edage_quick_actions', JSON.stringify(quickActions));
        }

        // ä» localStorage åŠ è½½è®¾ç½®
        function loadSettings() {
            const saved = localStorage.getItem('edage_quick_actions');
            if (saved) {
                quickActions = JSON.parse(saved);
            }
        }
    </script>
</body>
</html>
